<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <record id="lerm_civil_sample_form" model="ir.ui.view">
        <field name="name">lerm.srf.sample.form</field>
        <field name="model">lerm.srf.sample</field>
        <field name="arch" type="xml">
            <form>
                <header>
                        <button
                            type="object"
                            name="open_sample_allotment_wizard"
                            string="Allotment"
                            invisible="context.get('is_local',False)"
                            attrs="{'invisible': [('state', 'not in', ('1-allotment_pending'))]}"
                            />       
                        <field  invisible="context.get('is_local',False)" readonly="1" name="state" widget="statusbar"/>
                </header>
                <sheet>
                <group style="width:100%">
                    <field name="srf_id"  invisible="context.get('is_local',False)"/>
                </group>

                    <group style="width:50%">
                        <field name="sample_no"/>
                        <field name="discipline_id"/>
                        <field name="material_id" domain="[('id', 'in', material_ids)]"/>
                        <field name="brand"/>
                        <field name='casting_date'/>
                        <field name="grade_id" domain="[('id', 'in', grade_ids)]"/>
                        <field name="client_sample_id"/>
                        <field name="received_by_id"/>
                        <field name="sample_condition"/>
                        <field name="material_ids" invisible='1'/>
                        <field name="grade_ids" invisible='1'/>
                    </group>
                    <group style="width:50%">
                        <field name='kes_no'/>
                        <field name="group_id" domain="[('id', 'in', group_ids)]"/>
                        <field name="alias"/>
                        <field name="size_id" domain="[('id', 'in', size_ids)]"/>
                        <!-- <field name="sample_quantity"/> -->
                        <field name="sample_received_date"/>
                        <field name="location"/>
                        <field name="group_ids" invisible='1'/>
                        <field name="size_ids" invisible='1'/>
                        <field name="qty_ids" invisible='1'/>
                    </group>
                     <group style="width:100%">
                        <field name="sample_reject_reason" attrs="{'required': [('sample_condition','=','non_satisfactory')]}"/>
                    </group>
                    <group style="width:50%">
                        <field name="witness"/>
                    </group>
                    <group style="width:50%">
                        <field name="scope"/>
                    </group>
                    <group style="width:100%">
                        <field name="sample_description"/>
                    </group>
                    <group style="width:50%">
                        <field name="customer_id" invisible='1'/>
                        <field name="casting" invisible='1'/>
                    </group>
                    <group style="width:50%">
                        <field name="days_casting" attrs="{'invisible':[('casting','!=',True)]}"/>
                    </group>
                   
                    
                    
                    <group style="width:100%">
                        <!-- <field name="parameters_ids" invisible="1"/> -->
                        <field name="parameters" options="{'no_create': True}" />
                    </group>
                    
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>

            </form>
        </field>

    </record>


    <record id="lerm_civil_sample_kanban" model="ir.ui.view">
        <field name="name">lerm.srf.sample.kanban</field>
        <field name="model">lerm.srf.sample</field>
        <field name="arch" type="xml">

        <kanban records_draggable="0"  default_group_by="state" class="o_res_partner_kanban">
                <field name='sample_no'/>
                 <templates>
                    <t t-name="kanban-box">
                    <div t-attf-class="oe_kanban_global_click">
                       <div class="oe_kanban_details">
                                <!-- <div class="o_kanban_image">
                                </div> -->
                                <div id="car_view_kanban" class="o_kanban_record_top mb0">
                                    <div class="o_kanban_record_headings">
                                        <strong class="o_kanban_record_title">
                                            <span>
                                                <field name="sample_no"/>
                                            </span>
                                        </strong>
                                        <ul>
                                            <li>
                                                <b>KES NO :</b>
                                                <field name="kes_no"/>
                                            </li>

                                        </ul>

                                        <ul>
                                            <li>
                                                <b>Group :</b>
                                                <field name="group_id"/>
                                            </li>

                                        </ul>
                                        <ul>
                                            <li>
                                             <span style="color:Green;">
                                                <field  name="technicians"/>

                                            </span>
                                            </li>
                                        </ul>
                                         <ul>
                                            <li>
                                             <span>
                                                <field name="activity_ids" widget="kanban_activity"/>
                                            </span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                    </div>
                    </t>
                </templates>
            </kanban>
           
        </field>

    </record>

    <record id="lerm_srf_sample_tree" model="ir.ui.view">
        <field name="name">lerm.srf.sample.tree</field>
        <field name="model">lerm.srf.sample</field>
        <field name="arch" type="xml">


            <tree>
                      <field name="sample_received_date"/>
                      <field name='kes_no'/>
                      <field name="srf_id"/>
                      <field name="activity_ids" widget="list_activity" optional="show"/>
                      <field name="sample_no"/>
                      <field name="discipline_id"  optional="show"/>
                      <field name="group_id"/>
                      <field name="material_id"/>
                      <field name="alias"/>
                      <field name="brand"/>
                      <field name="size_id"/>
                      <field name="casting_date"/>
                      <field name="grade_id"/>
                      <field name="client_sample_id"/>
                      <field name="received_by_id"/>
                      <field name="sample_condition"/>
                      <field name="sample_reject_reason"/>
                      <field name="witness"/>
                      <field name="scope"/>
                      <field name="sample_description"/>
                      <field name="state" widget="badge"/>

            </tree>
        </field>

    </record>

    <record id="srf_sample_allotment_wizard" model="ir.ui.view">
        <field name="name">sample.allotment.wizard</field>
        <field name="model">sample.allotment.wizard</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group style="width:100%">
                        <field name='technicians'/>
                    </group>
                    <footer>
                        <button name="allot_sample" string="Allot Sample" type="object" class="btn-primary"/>
                        <button name="close_allotment_wizard" string="Close" type="object"/>
                    </footer>
                </sheet>
            </form>
        </field>
    </record>


    <record id="srf_sample_allotment_wizard_action" model="ir.actions.act_window">
        <field name="name">Allotment</field>
        <field name="res_model">sample.allotment.wizard</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="lerm_civil.srf_sample_allotment_wizard"/>
        <field name="target">new</field>
    </record>


    </data>

</odoo>